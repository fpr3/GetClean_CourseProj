# Codebook for Getting and Cleaning Data Course Project
23 September 2015  

## Project Description
This Course Project for the Getting and Cleaning Data Coursera Class held in September 2015 collects, cleans and processes a dataset from multiple files to output a single tidy dataset ready for further analysis. The source data is taken from the UCI machine learning repository and can be found at [provided data](https://d396qusza40orc.cloudfront.net/getdata%2Fprojectfiles%2FUCI%20HAR%20Dataset.zip )

Several specific tasks are required to transform the provided data into the desired single tidy dataset for submission. These tasks are all completed throughout the code with comments in the code indicating where parts of each task are accomplished. The requirements are as follows:

1. Merges the training and the test sets to create one data set.
2. Extracts only the measurements on the mean and standard deviation for each measurement.
3. Uses descriptive activity names to name the activities in the data set
4. Appropriately labels the data set with descriptive variable names.
5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.

The final dataset created is then written to a text file that is submitted.

##Study design and data processing

###Collection of the raw data
The initial study (cited below in Sources) collected raw data from 30 test subjects. The data was generated by the gyroscopic motion sensor and the accelerometer built into a Samsung Galaxy S II smartphone worn by each study participant. Video was recorded and time-matched against the collected data so that several different classes of activities could be assigned.

###Notes on the original (raw) data 
The raw data was preprocessed by the authors of the initial study using standard methods to provide analysis-ready measurement data. The resulting data is well defined in the [documentation](http://archive.ics.uci.edu/ml/datasets/Human+Activity+Recognition+Using+Smartphones#) provided by these authors. Additional detail is available in the [UCI HAR Dataset.names](http://archive.ics.uci.edu/ml/machine-learning-databases/00240/UCI%20HAR%20Dataset.names) file describing the activities assessed, the angular velocity parameters reported and the accelleration signals recorded.

##Creating the tidy datafile

###Guide to create the tidy data file
There are several steps required to create the tidy data file needed to complete this project. The instructors' requirements are as follows:

1. Merges the training and the test sets to create one data set.
2. Extracts only the measurements on the mean and standard deviation for each measurement.
3. Uses descriptive activity names to name the activities in the data set
4. Appropriately labels the data set with descriptive variable names.
5. From the data set in step 4, creates a second, independent tidy data set with the average of each variable for each activity and each subject.

Before these steps can be addressed the repository data is downloaded from the location noted above. This file is a zip archive that must be extracted (at least a subset of the files). After downloading and renaming to a more convenient samsung.zip, I use the R unzip command to extract this entire archive into its original directory structure underneath my project directory. There are general files accessed in the main directory, train and test specific files in subdirectories and inertial data files in additional subdirectories under test and train data. The inertial data files are not used in this project.

Rather than follow the steps above sequentially, I found it more intuitive to prepare the common elements (i.e. column headings, and activity labels) first. Then, I address the test and train data sets separately cleaning the data, naming the variables and extracting the measurements of interest (mean and std related columns only). Next I rejoin the test and train sets into a single dataframe including all observations across the relevant measurements. Finally the mean for each subject/activity pair is calculated with the results populating a new independent tidy dataset that is defined below and provided as the output from this intial analysis. This set is ready for further analysis.

###Cleaning of the data
Since the repository data has already been preprocessed the cleaning steps undertaken in this project are minimal. The activity codes used in the downloaded data are replaced by descriptive text labels. Additionally, the column names for the 561-feature measurement data are cleaned of awkward punctuation for improved clarity and readability. See [README.md](https://github.com/fpr3/GetClean_CourseProj/blob/master/README.md) file for additional detail.

##Description of the variables in the tidyoutput.txt file
The primary project data output consists of a text file, tidyouput.txt. The file includes 180 observations of 81 total variables. The variables include a subject identifier, and activity label, and 79 measurements.

###Subject (Variable 1)
The Subject identifier is an integer uniquely assigned to each study participant for the purpose of separately delineating the data generated by each individual. As there were 30 persons participating the values range from 1 to 30. No units are applicable.

###Activity (Variable 2)
This identifier provides a short, descriptive text label identifying the observed activity relating to the measurements taken in an observation. It is a Factor with 6 levels: ``WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, and LAYING``. There are no relevant units of measure. The labels correspond to a value subjectively applied by the original investigators upon observation of video taken during data colection.

###Measurements (Variables 3-81)
These variables represent the average value of each individual measurement for the given subject and activity in each observation. Only those variables in the original data involving either a mean or std measurement are included as per the project specifications. This was determined by checking the original data labels for the strings "std" and "mean" using grep within the provided R analysis code. The angle measures were left out deliberately as they inherently do not relate to either of the parameters stipulated. However, the mean frequency (freqMean) parameters are included. This determination was considered correct in being thorough while these parameters are possibly not of further use.

All of these variables are heavily preprocessed including normalization, filtering, and scaling. While the original accelleration units would have been change in speed per unit time reflected as g's or units of gravity and the gyroscopic measurements would have indicated speed and direction along the axes (X,Y, and Z), those units no longer directly apply to the processed data. The reported values are relative magnitudes within the whole of the reported measurements and should not be compared against measurements outside of this study unless similar preprocessing treatment in carefully applied.

####Notes on measurement variables 3-81:
The measurement variable are assigned names descriptive of their source. The main directory created when extracting the repository data contains a file, features.txt that describes all of the filtering and manipulation steps to arrive at each classification of variables per the naming below. The sole exception seems is the set of variables (columns 516-554 in repository features measurements) where the names contain "bodybody." This naming may well be a typographical error and should simply contain "body" once. Ideally this would be confirmed with the original author, but for the purposes of this assignment it is assumed as such.  The following components help to define the data represented in each variable:

**Generalized Decoding**

*t/f*: Domain, time or frequency.

*Body/Gravity*: Separated body and gravity signals versus the total accelerations measured.

*Acc/Gyro*: Sensor of origin, accellerometer or gyroscopic sensor.

*Jerk*: A particular type of movement along an axis.

*Mag*: Magnitude of measurement is represented.

*mean/meanFreq/std*: Average of value, average of frequency, or standard deviation is represented in the provided data.

*X/Y/Z*: 3-D orthogonal axes designators.

**Individual Measurement Variables by Column Number and Variable Name in Tidy Data file:**

 [3-5] tBodyAcc_mean_X, tBodyAcc_mean_Y, tBodyAcc_mean_Z  
        Time domain accelleration measure of the body along each axis.
        
 [6-8] tGravityAcc_mean_X, tGravityAcc_mean_Y , tGravityAcc_mean_Z  
         Time domain accelleration measure due to gravity along each axis.
         
 [9-11] tBodyAccJerk_mean_X, tBodyAccJerk_mean_Y, tBodyAccJerk_mean_Z  
        Time domain jerk presence in body accelleration measure along each axis.
        
 [12-14] tBodyGyro_mean_X, tBodyGyro_mean_Y, tBodyGyro_mean_Z  
        Time domain position measure of the body relative to each axis.
        
 [15-17] tBodyGyroJerk_mean_X, tBodyGyroJerk_mean_Y, tBodyGyroJerk_mean_Z  
        Time domain jerk presence in body position measure relative to each axis.
        
 [18] tBodyAccMag_mean  
        Time domain magnitude of body accelleration measure.
 
 [19] tGravityAccMag_mean  
        Time domain magnitude of gravitational accelleration measure.
        
 [20] tBodyAccJerkMag_mean  
        Time domain jerk presence in body accelleration magnitude mesure.
        
 [21] tBodyGyroMag_mean  
        Time domain magnitude of body position measurement.
        
 [22] tBodyGyroJerkMag_mean  
        Time domain jerk presence in magnitude of position measurement.
        
 [23-25] fBodyAcc_mean_X, fBodyAcc_mean_Y, fBodyAcc_mean_Z  
        Frequency domain accelleration measure of the body along each axis.
        
 [26-28] fBodyAcc_meanFreq_X, fBodyAcc_meanFreq_Y, fBodyAcc_meanFreq_Z  
        Frequency domain mean frequency of accelleration of the body along each axis.
 
 [29-31] fBodyAccJerk_mean_X, fBodyAccJerk_mean_Y, fBodyAccJerk_mean_Z  
       Frequency domain presence of jerk signal in accelleration of the body along each axis.
  
 [32-34] fBodyAccJerk_meanFreq_X, fBodyAccJerk_meanFreq_Y, fBodyAccJerk_meanFreq_Z 
        Frequency domain jerk presence in mean frequency body accelleration.
        
 [35-37] fBodyGyro_mean_X, fBodyGyro_mean_Y, fBodyGyro_mean_Z  
        Frequency domain body position measure along each axis.
        
 [38-40] fBodyGyro_meanFreq_X, fBodyGyro_meanFreq_Y, fBodyGyro_meanFreq_Z  
        Frequency domain mean frequenct of body position measurement.
        
 [41] fBodyAccMag_mean  
         Frequency domain measure of magnitude of body accelleration.
         
 [42] fBodyAccMag_meanFreq  
         Frequency domain mean frequency measure of body accelleration magnitude.
         
 [43] fBodyBodyAccJerkMag_mean  
         Frequency domain jerk in magnitude measure of body accelleration.
         
 [44] fBodyBodyAccJerkMag_meanFreq  
         Frequency domain mean frequency jerk magnitude in accelleration measure.
         
 [45] fBodyBodyGyroMag_mean  
         Frequency domain measure of change magnitude of body position.
         
 [46] fBodyBodyGyroMag_meanFreq  
         Frequency domain mean frequency magnitude measure of change in body position.
         
 [47] fBodyBodyGyroJerkMag_mean  
         Frequency domain magnitude of jerk signal in body position measure.
         
 [48] fBodyBodyGyroJerkMag_meanFreq  
         Frequency domain mean frequency magnitude of jerk in body position measure.
         
 [49-51] tBodyAcc_std_X, tBodyAcc_std_Y, tBodyAcc_std_Z  
        Time domain deviation of body accelleration meadure.
        
 [52-54] tGravityAcc_std_X, tGravityAcc_std_Y, tGravityAcc_std_Z  
        Time domain deviation of accelleration measure due to gravity.
        
 [55-57] tBodyAccJerk_std_X, tBodyAccJerk_std_Y, tBodyAccJerk_std_Z  
        Time domain deviation in jerk measured in body accelleration.
        
 [58-60] tBodyGyro_std_X, tBodyGyro_std_Y, tBodyGyro_std_Z  
        Time domain deviation in body position measure.
        
 [61-63] tBodyGyroJerk_std_X, tBodyGyroJerk_std_Y, tBodyGyroJerk_std_Z  
        Time domain deviation in jerk measured in body position signal.
        
 [64] tBodyAccMag_std  
        Time domain deviation in magnitude of body accelleration.
        
 [65] tGravityAccMag_std  
        Time domain deviation in gravitational accelleration magnitude.
        
 [66] tBodyAccJerkMag_std  
        Time domain deviation in body accelleration jerk signal.
        
 [67] tBodyGyroMag_std  
        Time domain deviation in magnitude of change in body position.
        
 [68] tBodyGyroJerkMag_std  
        Time domain jerk signal magnitude present in body position measure.
        
 [69-71] fBodyAcc_std_X, fBodyAcc_std_Y, fBodyAcc_std_Z  
         Frequency domain deviation in body accelleration measure.
         
 [72-74] fBodyAccJerk_std_X, fBodyAccJerk_std_Y, fBodyAccJerk_std_Z  
         Frequency domain deviation in body jerk accelleration signal.
         
 [75-77] fBodyGyro_std_X, fBodyGyro_std_Y, fBodyGyro_std_Z  
         Frequency domain deviation in body positioning measure.
         
 [78] fBodyAccMag_std  
         Frequency domain deviation in magnitude of body accelleration.
         
 [79] fBodyBodyAccJerkMag_std  
         Frequency domain deviation in jerk signal magnitude in body accelleration measure.
         
 [80] fBodyBodyGyroMag_std      
         Frequency domain devation in magnitude of body position measure.
         
 [81] fBodyBodyGyroJerkMag_std  
         Frequency domain jerk magnitude deviation in body position measure.
         
##Sources

Davide Anguita, Alessandro Ghio, Luca Oneto, Xavier Parra and Jorge L. Reyes-Ortiz. A Public Domain Dataset for Human Activity Recognition Using Smartphones. 21th European Symposium on Artificial Neural Networks, Computational Intelligence and Machine Learning, ESANN 2013. Bruges, Belgium 24-26 April 2013.
